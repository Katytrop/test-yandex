(()=>{"use strict";!function(){let e=new Image;e.onload=e.onerror=function(){!function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)}(2==e.height)},e.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}(),document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".running-line__body").forEach(e=>{const t=e.querySelector(".running-line__items");if(t){const n=t.cloneNode(!0);e.appendChild(n)}})}),document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".steps__items"),t=document.querySelectorAll(".steps__item"),n=document.querySelector(".steps__arrow_prev"),s=document.querySelector(".steps__arrow_next"),o=document.querySelector(".steps__dots");let r=0;const i=()=>{const o=t[0].offsetWidth;e.style.transform=`translateX(-${r*o}px)`,document.querySelectorAll(".steps__dot").forEach((e,t)=>{e.classList.toggle("active",t===r)}),n&&n.classList.toggle("disabled",0===r),s&&s.classList.toggle("disabled",r===t.length-1)},c=()=>{window.innerWidth<992?(e.style.width=100*t.length+"%",t.forEach(e=>{e.style.flex=`0 0 ${100/t.length}%`}),o.innerHTML="",t.forEach((e,t)=>{const n=document.createElement("span");n.classList.add("steps__dot"),t===r&&n.classList.add("active"),n.addEventListener("click",()=>{r=t,i()}),o.appendChild(n)}),i()):(e.style.transform="",e.style.width="",t.forEach(e=>{e.style.flex=""}),o.innerHTML="")};s.addEventListener("click",()=>{r<t.length-1&&(r++,i())}),n.addEventListener("click",()=>{r>0&&(r--,i())}),window.addEventListener("resize",c),c()}),document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".persons__items"),t=document.querySelector(".persons__arrow_prev"),n=document.querySelector(".persons__arrow_next"),s=document.querySelector(".persons__current"),o=document.querySelector(".persons__total"),r=[{name:"Хосе-Рауль Капабланка",title:"Чемпион мира по шахматам",img:"img/person.png"},{name:"Эммануил Ласкер",title:"Чемпион мира по шахматам",img:"img/person.png"},{name:"Александр Алехин",title:"Чемпион мира по шахматам",img:"img/person.png"},{name:"Арон Нимцович",title:"Чемпион мира по шахматам",img:"img/person.png"},{name:"Рихард Рети",title:"Чемпион мира по шахматам",img:"img/person.png"},{name:"Остап Бендер",title:"Гроссмейстер",img:"img/person.png"}];let i,c=0,l=3,d=r.length;const a=()=>window.innerWidth<699.98?1:window.innerWidth<991.98?2:3,m=()=>{e.innerHTML="",r.forEach(t=>{const n=document.createElement("div");n.classList.add("persons__item","person-slide"),n.innerHTML=`\n                <div class="person-slide__image">\n                    <img src="${t.img}" alt="${t.name}">\n                </div>\n                <div class="person-slide__content">\n                    <div class="person-slide__name">${t.name}</div>\n                    <div class="person-slide__title">${t.title}</div>\n                    <a href="" class="btn btn_small">Подробнее</a>\n                </div>\n            `,e.appendChild(n)}),u(),p()},u=()=>{const e=document.querySelectorAll(".persons__item");l=a();const t=100/l;e.forEach(e=>{e.style.flex=`0 0 ${t}%`})},p=()=>{const t=document.querySelectorAll(".persons__item"),n=t[0]?.offsetWidth||0;e.style.transform=`translateX(-${c*n}px)`;let r=c+l;r>d&&(r=d),s.textContent=r,o.textContent=d},_=()=>{c+=l,c>=d&&(c=0),p()},g=()=>{clearInterval(i),i=setInterval(()=>{_()},4e3)};n.addEventListener("click",()=>{_(),g()}),t.addEventListener("click",()=>{c-=l,c<0&&(c=Math.max(0,d-l)),p(),g()}),window.addEventListener("resize",()=>{const e=l;l=a(),e!==l?m():(u(),p())}),m(),g()});const e=document.querySelectorAll('a[href^="#"]');for(let t of e)t.addEventListener("click",function(e){e.preventDefault();const n=t.getAttribute("href");document.querySelector(n).scrollIntoView({behavior:"smooth",block:"start"})});function t(e,t,n,s=1500,o=15){let r=0;e.style.opacity=1;const i=t/o,c=n/o,l=setInterval(()=>{const s=0+i*r,d=0+c*r,a=35*Math.sin(.5*r);e.style.transform=`translate(${s}px, ${d}px) rotate(${a}deg)`,r++,r>o&&(clearInterval(l),e.style.transform=`translate(${t}px, ${n}px) rotate(0deg)`)},s/o)}window.addEventListener("load",()=>{setTimeout(()=>{const e=document.querySelector(".chess-piece_pawn"),n=document.querySelector(".chess-piece_knight"),s=document.querySelector(".chess-piece_queen"),o=document.querySelector(".chess-piece_king");t(e,-408,-37),setTimeout(()=>t(n,-202,-217),300),setTimeout(()=>t(s,-427,446),600),setTimeout(()=>t(o,325,550),900)},500)}),document.addEventListener("DOMContentLoaded",function(){if(window.innerWidth<=479.98)return;const e=document.querySelector("#steps"),t=document.querySelector(".steps__image");if(!e||!t)return;const n=new IntersectionObserver(([s])=>{s.isIntersecting&&(t.classList.add("animate"),n.unobserve(e))},{threshold:.6});n.observe(e)})})();